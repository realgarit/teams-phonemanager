<UserControl xmlns="https://github.com/avaloniaui"
             x:Class="teams_phonemanager.Views.TestView"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:fi="using:FluentIcons.Avalonia"
             xmlns:viewmodels="clr-namespace:teams_phonemanager.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="1000">

    <UserControl.DataContext>
        <viewmodels:TestViewModel/>
    </UserControl.DataContext>

    <UserControl.Styles>
        <!-- Glass Card Style -->
        <Style Selector="Border.GlassCard">
            <Setter Property="Background" Value="#15FFFFFF"/>
            <Setter Property="BorderBrush" Value="#30FFFFFF"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="24"/>
            <Setter Property="Margin" Value="0,0,0,20"/>
            <Setter Property="BoxShadow" Value="0 8 32 0 #40000000"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.2"/>
                </Transitions>
            </Setter>
        </Style>
        
        <Style Selector="Border.GlassCard:pointerover">
            <Setter Property="Background" Value="#20FFFFFF"/>
            <Setter Property="RenderTransform" Value="scale(1.01)"/>
        </Style>
        
        <Style Selector="TextBlock.SectionHeader">
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0,0,0,16"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Effect">
                <DropShadowEffect BlurRadius="4" Color="Black" Opacity="0.3" OffsetX="1" OffsetY="1"/>
            </Setter>
        </Style>

        <Style Selector="TextBlock.Label">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#CCFFFFFF"/>
            <Setter Property="Margin" Value="0,0,0,4"/>
        </Style>

        <!-- Custom TextBox Style for Glass Theme -->
        <Style Selector="TextBox">
            <Setter Property="Margin" Value="0,0,0,16"/>
            <Setter Property="Background" Value="#10000000"/>
            <Setter Property="BorderBrush" Value="#30FFFFFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="CornerRadius" Value="6"/>
        </Style>
        
        <Style Selector="TextBox:focus /template/ Border#PART_BorderElement">
            <Setter Property="Background" Value="#20000000"/>
            <Setter Property="BorderBrush" Value="#80FFFFFF"/>
        </Style>

        <!-- TimePicker Override -->
        <Style Selector="TimePicker">
            <Setter Property="Background" Value="#10000000"/>
            <Setter Property="BorderBrush" Value="#30FFFFFF"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

    </UserControl.Styles>

    <Grid>
        <!-- Background Gradient -->
        <Grid.Background>
            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="#2D1B4E" Offset="0.0"/>
                <GradientStop Color="#1B2845" Offset="0.5"/>
                <GradientStop Color="#000000" Offset="1.0"/>
            </LinearGradientBrush>
        </Grid.Background>
        
        <!-- Decorative Background Blobs -->
        <Canvas>
            <Ellipse Width="400" Height="400" Fill="#306200EA" Canvas.Left="-100" Canvas.Top="-100">
                <Ellipse.Effect>
                    <BlurEffect Radius="100"/>
                </Ellipse.Effect>
            </Ellipse>
            <Ellipse Width="300" Height="300" Fill="#2000C9FF" Canvas.Right="50" Canvas.Top="100">
                <Ellipse.Effect>
                    <BlurEffect Radius="80"/>
                </Ellipse.Effect>
            </Ellipse>
            <Ellipse Width="500" Height="500" Fill="#15FF0055" Canvas.Right="-100" Canvas.Bottom="-100">
                <Ellipse.Effect>
                    <BlurEffect Radius="120"/>
                </Ellipse.Effect>
            </Ellipse>
        </Canvas>

        <ScrollViewer Padding="24">
            <Grid ColumnDefinitions="*, 24, *" MaxWidth="1400" HorizontalAlignment="Center">
                
                <!-- Left Column -->
                <StackPanel Grid.Column="0">
                    
                    <!-- General Information Card -->
                    <Border Classes="GlassCard">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,0,0,16">
                                <Border CornerRadius="10" Width="40" Height="40" Background="#40FFFFFF">
                                    <fi:SymbolIcon Symbol="Building" Foreground="White" FontSize="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="General Information" Classes="SectionHeader" VerticalAlignment="Center" Margin="0"/>
                            </StackPanel>

                            <Grid ColumnDefinitions="*, 12, *">
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Customer Legal Name" Classes="Label"/>
                                    <TextBox Text="{Binding CustomerLegalName}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="MS Fallback Domain" Classes="Label"/>
                                    <TextBox Text="{Binding MsFallbackDomain}"/>
                                </StackPanel>
                            </Grid>

                            <Grid ColumnDefinitions="*, 12, *">
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Customer Short Name" Classes="Label"/>
                                    <TextBox Text="{Binding Customer}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Group Name" Classes="Label"/>
                                    <TextBox Text="{Binding CustomerGroupName}"/>
                                </StackPanel>
                            </Grid>

                            <Grid ColumnDefinitions="*, 12, *">
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Language ID" Classes="Label"/>
                                    <TextBox Text="{Binding LanguageId}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Time Zone" Classes="Label"/>
                                    <TextBox Text="{Binding TimeZoneId}"/>
                                </StackPanel>
                            </Grid>
                            
                            <StackPanel>
                                <TextBlock Text="Usage Location" Classes="Label"/>
                                <TextBox Text="{Binding UsageLocation}"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Call Queues & Auto Attendants Card -->
                    <Border Classes="GlassCard">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,0,0,16">
                                <Border CornerRadius="10" Width="40" Height="40" Background="#4000FF00">
                                    <fi:SymbolIcon Symbol="CallInbound" Foreground="White" FontSize="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="Call Handling" Classes="SectionHeader" VerticalAlignment="Center" Margin="0"/>
                            </StackPanel>

                            <TextBlock Text="Phone Number Type" Classes="Label"/>
                            <TextBox Text="{Binding PhoneNumberType}"/>

                            <Grid ColumnDefinitions="*, 12, *">
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Resource Account Name" Classes="Label"/>
                                    <TextBox Text="{Binding RaaAnrName}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Phone Number" Classes="Label"/>
                                    <TextBox Text="{Binding RaaAnr}"/>
                                </StackPanel>
                            </Grid>

                            <TextBlock Text="Default Greeting" Classes="Label"/>
                            <TextBox Text="{Binding DefaultCallFlowGreetingPromptDE}" Height="60" AcceptsReturn="True" TextWrapping="Wrap"/>

                            <TextBlock Text="After Hours Greeting" Classes="Label"/>
                            <TextBox Text="{Binding AfterHoursCallFlowGreetingPromptDE}" Height="60" AcceptsReturn="True" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>

                </StackPanel>

                <!-- Right Column -->
                <StackPanel Grid.Column="2">

                    <!-- Opening Hours Card -->
                    <Border Classes="GlassCard">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,0,0,16">
                                <Border CornerRadius="10" Width="40" Height="40" Background="#40FFD700">
                                    <fi:SymbolIcon Symbol="Clock" Foreground="White" FontSize="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="Opening Hours" Classes="SectionHeader" VerticalAlignment="Center" Margin="0"/>
                            </StackPanel>

                            <TextBlock Text="Morning Shift (Mon-Fri)" Classes="Label" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <Grid ColumnDefinitions="*, 12, *">
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Start" Classes="Label"/>
                                    <TimePicker SelectedTime="{Binding OpeningHours1Start}" HorizontalAlignment="Stretch"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="End" Classes="Label"/>
                                    <TimePicker SelectedTime="{Binding OpeningHours1End}" HorizontalAlignment="Stretch"/>
                                </StackPanel>
                            </Grid>

                            <TextBlock Text="Afternoon Shift (Mon-Fri)" Classes="Label" FontWeight="SemiBold" Margin="0,16,0,8"/>
                            <Grid ColumnDefinitions="*, 12, *">
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Start" Classes="Label"/>
                                    <TimePicker SelectedTime="{Binding OpeningHours2Start}" HorizontalAlignment="Stretch"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="End" Classes="Label"/>
                                    <TimePicker SelectedTime="{Binding OpeningHours2End}" HorizontalAlignment="Stretch"/>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Holidays Card -->
                    <Border Classes="GlassCard">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,0,0,16">
                                <Border CornerRadius="10" Width="40" Height="40" Background="#40FF0000">
                                    <fi:SymbolIcon Symbol="CalendarStar" Foreground="White" FontSize="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="Holidays" Classes="SectionHeader" VerticalAlignment="Center" Margin="0"/>
                            </StackPanel>

                            <TextBlock Text="Holiday Suffix" Classes="Label"/>
                            <TextBox Text="{Binding HolidayNameSuffix}"/>

                            <TextBlock Text="Holiday Greeting" Classes="Label"/>
                            <TextBox Text="{Binding HolidayGreetingPromptDE}" Height="60" AcceptsReturn="True" TextWrapping="Wrap"/>

                            <TextBlock Text="Upcoming Holidays" Classes="Label" Margin="0,8,0,8"/>
                            <Border CornerRadius="4" BorderBrush="#30FFFFFF" BorderThickness="1" Background="#10000000">
                                <ItemsControl ItemsSource="{Binding HolidaySeries}">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border BorderThickness="0,0,0,1" BorderBrush="#20FFFFFF" Padding="12,8">
                                                <Grid ColumnDefinitions="*, Auto">
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center" Foreground="White"/>
                                                    <fi:SymbolIcon Grid.Column="1" Symbol="Calendar" FontSize="14" Opacity="0.5" Foreground="White"/>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </Border>
                            
                            <Button Content="Manage Holidays" HorizontalAlignment="Stretch" Margin="0,16,0,0" Classes="IconTextCentered"/>
                        </StackPanel>
                    </Border>

                    <!-- Auto-Generated IDs Card -->
                    <Border Classes="GlassCard" Opacity="0.9">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,0,0,16">
                                <Border CornerRadius="10" Width="40" Height="40" Background="#40808080">
                                    <fi:SymbolIcon Symbol="Code" Foreground="White" FontSize="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="System IDs (Auto-Generated)" Classes="SectionHeader" VerticalAlignment="Center" Margin="0"/>
                            </StackPanel>

                            <Grid ColumnDefinitions="*, 12, *">
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="M365 Group" Classes="Label"/>
                                    <TextBox Text="{Binding M365Group}" IsReadOnly="True" Background="Transparent" BorderThickness="0"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Call Queue Display Name" Classes="Label"/>
                                    <TextBox Text="{Binding CqDisplayName}" IsReadOnly="True" Background="Transparent" BorderThickness="0"/>
                                </StackPanel>
                            </Grid>
                            
                             <Grid ColumnDefinitions="*, 12, *">
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Resource Account UPN" Classes="Label"/>
                                    <TextBox Text="{Binding RacqUPN}" IsReadOnly="True" Background="Transparent" BorderThickness="0"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Auto Attendant Display Name" Classes="Label"/>
                                    <TextBox Text="{Binding AaDisplayName}" IsReadOnly="True" Background="Transparent" BorderThickness="0"/>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>

                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>
</UserControl>
